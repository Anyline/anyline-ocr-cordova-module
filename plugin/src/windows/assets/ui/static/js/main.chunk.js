(window["webpackJsonpanyline-cutout-ui"]=window["webpackJsonpanyline-cutout-ui"]||[]).push([[0],{120:function(e,t,n){"use strict";t.a={WEBCAM_ERROR:1,TIMEOUT_ERROR:2,LOADING_ERROR:3}},123:function(e,t,n){"use strict";t.a={outerColor:"000000",outerAlpha:.5,cutouts:[{cutoutConfig:{maxWidthPercent:"80%",alignment:"top_half",ratioFromSize:{width:300,height:250},width:720,strokeWidth:2,cornerRadius:4,strokeColor:"FFFFFFFF",feedbackStrokeColor:"0099FF"},scanFeedback:{style:"contour_point",strokeColor:"0099FF",fillColor:"300099FF",strokeWidth:2,cornerRadius:4,animationDuration:150,animation:"NONE"}}]}},124:function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(176),a=n.n(o),c=n(7),s=n(18),u=n(11),l=n(2),d=Object(c.c)(["100%{transform:rotate(360deg)}"]),f=function(e){return e/12},p=c.b.div.withConfig({displayName:"Moon-Spinner__Wrapper",componentId:"svuau5-0"})(["position:relative;width:",";height:",";animation:"," "," 0s infinite linear;animation-fill-mode:forwards;"],function(e){return"".concat(e.size+2*f(e.size)).concat(e.sizeUnit)},function(e){return"".concat(e.size+2*f(e.size)).concat(e.sizeUnit)},d,function(e){return e.speed}),h=c.b.div.withConfig({displayName:"Moon-Spinner__Circle",componentId:"svuau5-1"})(["width:",";height:",";border-radius:100%;border:",";opacity:0.1;"],function(e){return"".concat(e.size).concat(e.sizeUnit)},function(e){return"".concat(e.size).concat(e.sizeUnit)},function(e){return"".concat(f(e.size),"px solid ").concat(e.color)}),b=c.b.div.withConfig({displayName:"Moon-Spinner__Ball",componentId:"svuau5-2"})(["width:",";height:",";border-radius:100%;background-color:",";opacity:0.8;position:absolute;top:",";animation:"," "," 0s infinite linear;animation-fill-mode:forwards;"],function(e){return"".concat(f(e.size)).concat(e.sizeUnit)},function(e){return"".concat(f(e.size)).concat(e.sizeUnit)},function(e){return e.color},function(e){return"".concat(e.size/2-f(e.size)/2).concat(e.sizeUnit)},d,function(e){return e.speed}),g=Object(l.b)(Object(l.c)({size:150,sizeUnit:"px",color:"#FFFFFF",speed:"1.5s",showCircle:!1}))(function(e){return r.a.createElement(p,e,r.a.createElement(b,e),e.showCircle&&r.a.createElement(h,e),"showCircle")}),m=n(78),v=n(79),y=function(){function e(){Object(m.a)(this,e)}return Object(v.a)(e,[{key:"set",value:function(e,t){this[e]=t}}]),e}(),O=Object(l.h)({refs:new y}),w=n(17),j=c.b.video.withConfig({displayName:"Webcam__Video",componentId:"sc-1j4rkp1-0"})(["display:block;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);@media screen and (orientation:landscape){width:100%;}@media screen and (orientation:portrait){height:100%;}"]),E=Object(l.b)(O,Object(l.c)({onUserMedia:function(){},onError:function(){},screenshotFormat:"image/jpeg"}),Object(l.d)({componentDidMount:function(){var e=this,t=this.props.refs.video;navigator.mediaDevices.getUserMedia(this.props.mediaConstraints).then(function(n){var i=document.createElement("canvas");t.srcObject=n,t.getScreenshot=function(){return i.width=t.offsetWidth,i.height=t.offsetHeight,i.getContext("2d").drawImage(t,0,0,t.offsetWidth,t.offsetHeight),i},e.props.onUserMedia(t)}).catch(function(t){e.props.onError(t),setTimeout(function(){w.a.publish("setCameraDisabled",!0)},1e3),w.a.publish("setCameraDisabled",!0)})},componentWillUnmount:function(){clearInterval(this.props.intervalInstance)}}))(function(e){var t=e.refs;e.style;return r.a.createElement(j,{autoPlay:!0,muted:!0,playsInline:!0,ref:function(e){return t.set("video",e)},id:"anylineVideo"})}),C=n(120),k=Object(l.b)(Object(l.c)({fps:10,onFrame:function(){},height:720,width:1280,mediaConstraints:{video:{facingMode:"environment"}}}),Object(l.i)("intervalInstance","setIntervalInstance"),O,Object(l.g)({startStreaming:function(e){var t=e.fps,n=e.onFrame,i=e.setIntervalInstance;return function(e){var r=setInterval(function(){var t=e.getScreenshot();t&&n(t)},1e3/t);i(r)}},handleError:function(){return function(e){var t=e.message;w.a.publish("error",{code:C.a.WEBCAM_ERROR,message:t})}}}),Object(l.d)({componentWillUnmount:function(){clearInterval(this.props.intervalInstance)}}))(function(e){var t=e.style,n=e.width,i=e.height,o=e.startStreaming,a=e.mediaConstraints,c=e.handleError;return r.a.createElement(E,{onError:c,style:t,audio:!1,height:i,screenshotFormat:"image/jpeg",width:n,mediaConstraints:a,onUserMedia:o})}),S=(n(181),n(258),n(259),document.createElement("canvas"));var I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.compression,i=void 0===n?1:n,r=t.stretch,o=void 0===r?1:r,a=t.left,c=void 0===a?0:a,s=t.top,u=void 0===s?0:s,l=t.width,d=void 0===l?10:l,f=t.height,p=void 0===f?10:f,h=document.getElementById("anylineVideo");return e.width?(S.width=d,S.height=p,S.getContext("2d").drawImage(e,h.offsetWidth/2-window.innerWidth/2+c,h.offsetHeight/2-window.innerHeight/2+u,d,p,0,0,d*o,p*o),S.toDataURL("image/jpeg",i)):null},P=n(90),D=n(125),x=n(121),R=n(126),A=n(128);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L,U,W,N,M=function(e){function t(){var e,n;Object(m.a)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=Object(D.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={logs:[]},n}return Object(R.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(A.Hook)(window.console,function(t){e.setState(function(e){var n=e.logs;return{logs:[].concat(Object(P.a)(n),[Object(A.Decode)(t)])}})})}},{key:"render",value:function(){return r.a.createElement("div",{style:_({backgroundColor:"#242424",height:"100%",overflow:"scroll",WebkitOverflowScrolling:"touch"},this.props.customStyle||{})},r.a.createElement(A.Console,{logs:this.state.logs,variant:"dark"}))}}]),t}(r.a.Component),T=n(260),z=n.n(T);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var J={},B={color:"white",fontFamily:"sans-serif",fontSize:20,marginRight:"2em",marginLeft:"2em",textAlign:"center"},G=function(e){J=V({},e)},H=Object(l.b)(Object(l.i)("maskConfig","setMaskConfig"),Object(l.i)("debugOutputImages","setDebugOutputImages",{}),Object(l.i)("cutoutImageData","setCutoutImageData",{}),Object(l.i)("isLoadingAnyline","setIsLoadingAnyline",Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_USE_ANYLINE_CORE),Object(l.i)("isCameraDisabled","setAnylineCameraDisabled",!1),Object(l.i)("isAnylineDeviceSlow","setAnylineDeviceSlow",!1),Object(l.g)({handleFrameUpdate:function(e){var t=e.setCutoutImageData,n=e.debugMode;return function(e){if(Object.values(J).length){var i=Object.values(J).reduce(function(t,n){var i=n.rect;return V({},t,Object(u.a)({},n.id,I(e,{left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top})))},{});window.cutoutImageData=i,n&&t(i)}}}}),Object(l.d)({componentDidMount:function(){var e=this;L=w.a.subscribe("setDebugOutputImage",function(t){return e.props.setDebugOutputImages({output:t})}),U=w.a.subscribe("setAnylineLoading",this.props.setIsLoadingAnyline),W=w.a.subscribe("setCameraDisabled",this.props.setAnylineCameraDisabled),N=w.a.subscribe("setAnylineDeviceSlow",this.props.setAnylineDeviceSlow),document.addEventListener("touchmove",function(t){e.props.debugMode||t.preventDefault()},{passive:!1})},componentWillUnmount:function(){L.unsubscribe(),U.unsubscribe(),W.unsubscribe(),N.unsubscribe()}}))(function(e){var t=e.handleFrameUpdate,n=e.cutoutImageData,i=e.height,o=e.width,a=e.debugMode,c=e.debugOutputImages,s=e.isLoadingAnyline,u=e.isCameraDisabled,l=e.isAnylineDeviceSlow;return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(q,null,r.a.createElement($,{src:z.a,alt:"Anyline Logo"}),r.a.createElement(g,{size:100})),u&&r.a.createElement(q,null,r.a.createElement("p",{style:B},"No camera found. Please enable camera access and reload the page. If you\u2019re using an in-app browser, please switch to your native browser instead.")),l&&s&&r.a.createElement(q,null,r.a.createElement("p",{style:B},"It seems like loading is taking unusually long. AnylineJS is cutting edge technology that will work best on devices released since 2016...")),r.a.createElement("div",{style:{height:"100%",width:"100%"}},a&&r.a.createElement(ee,{debugOutputImages:c,cutoutImageData:n}),r.a.createElement(k,{height:i,width:o,mediaConstraints:{video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}},audio:!1},fps:"3",onFrame:t})))}),Q=c.b.div.withConfig({displayName:"Anyline-JS__OutputDebugWrapper",componentId:"vb621y-0"})(["height:100%;overflow:auto;-webkit-overflow-scrolling:touch;"]),X=c.b.div.withConfig({displayName:"Anyline-JS__DebugImageWrapper",componentId:"vb621y-1"})(["outline:1px solid red;"]),Y=c.b.p.withConfig({displayName:"Anyline-JS__ImageTitle",componentId:"vb621y-2"})(["color:red;position:absolute;"]),K=c.b.div.withConfig({displayName:"Anyline-JS__DebugInfoWrapper",componentId:"vb621y-3"})(["z-index:100;height:150px;position:absolute;margin:5px;display:flex;"]),q=c.b.div.withConfig({displayName:"Anyline-JS__MessageOverlay",componentId:"vb621y-4"})(["position:absolute;height:100%;width:100%;background-color:black;z-index:1000;display:flex;justify-content:center;align-items:center;flex-direction:row;"]),$=c.b.img.withConfig({displayName:"Anyline-JS__StyledLoadingImage",componentId:"vb621y-5"})(["width:100px;position:absolute;z-index:1001;"]),ee=function(e){var t=e.cutoutImageData,n=e.debugOutputImages;return r.a.createElement(K,null,r.a.createElement(te,{imageData:V({},t,{},n)}),r.a.createElement(M,{customStyle:{flex:1}}))},te=function(e){var t=e.imageData,n=e.style;return r.a.createElement(Q,{style:n},Object.entries(t).map(function(e){var t=Object(s.a)(e,2),n=t[0],i=t[1];return r.a.createElement(ne,{key:n,title:n,src:i})}))},ne=function(e){var t=e.title,n=e.src;return r.a.createElement(X,null,r.a.createElement(Y,null,t),r.a.createElement("img",{alt:"debug img output: ".concat(t),src:n}))},ie=n(271),re=n(263),oe=n.n(re),ae=n(261),ce=n(123),se=Object(l.b)(Object(l.h)(function(){return{jsonEditorConfig:{placeholder:ce.a,locale:oe.a,height:"550px",width:"350px"}}}),Object(l.g)({handleChange:function(e){e.someProp;return function(e){var t=e.jsObject;e.error||window.publish("setConfig",t)}}}),Object(ae.a)("handleChange",100))(function(e){var t=e.jsonEditorConfig,n=e.handleChange;return r.a.createElement("div",null,r.a.createElement(ie.a,Object.assign({id:"a_unique_id"},t,{onChange:n})))}),ue=n(264),le=n(9),de=n.n(le),fe=n(265),pe=n.n(fe),he=n(269),be=n.n(he);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ve=function(e,t){return e.reduce(function(e,n){return me({},e,Object(u.a)({},n[t],n))},{})},ye=function(e,t){var n=t.map(function(e){return e.toString()});return Object.entries(e).reduce(function(e,t){var i=Object(s.a)(t,2),r=i[0],o=i[1];return n.includes(r)?e:me({},e,Object(u.a)({},r,o))},{})},Oe=n(69),we=n(268),je=n.n(we);function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=e.replace("#","");var n=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4,6),16);return"rgba(".concat(n,", ").concat(i,", ").concat(r,", ").concat(t,")")}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e=e.replace("#",""),![6,8].includes(e.length))throw Error("invalid hey HexARGB string use length of 6 or 8");if(6===e.length){var t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16);return"rgb(".concat(t,", ").concat(n,", ").concat(i,")")}if(8===e.length){var r=parseInt(e.substring(0,2),16)/255,o=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16),c=parseInt(e.substring(6,8),16);return"rgba(".concat(o,", ").concat(a,", ").concat(c,", ").concat(r,")")}}var ke=n(266),Se=n.n(ke);function Ie(e,t,n,i,r,o){i<2*o&&(o=i/2),r<2*o&&(o=r/2),e.beginPath(),e.moveTo(t+o,n),e.arcTo(t+i,n,t+i,n+r,o),e.arcTo(t+i,n+r,t,n+r,o),e.arcTo(t,n+r,t,n,o),e.arcTo(t,n,t+i,n,o),e.closePath()}var Pe=c.b.svg.withConfig({displayName:"SvgCutout__CutoutSVG",componentId:"sc-1i0vs71-0"})(["position:absolute;"]),De=c.b.path.withConfig({displayName:"SvgCutout__BackgroundCutoutStroke",componentId:"sc-1i0vs71-1"})(["fill:",";stroke:",";stroke-width:",";"],function(e){return e.fill||"none"},function(e){return Ce(e.strokeColor)},function(e){return e.strokeWidth}),xe=Object(c.b)(De).withConfig({displayName:"SvgCutout__AnimatedCutoutStroke",componentId:"sc-1i0vs71-2"})([""," stroke:",";"],function(e){return e.animate&&e.delay&&Object(c.a)(["animation:dash ","s linear;animation-fill-mode:forwards;@keyframes dash{to{stroke-dashoffset:0;}}"],e.delay)},function(e){return e.scanning&&!e.isAnimating?Ce(e.feedbackStrokeColor||e.strokeColor):Ce(e.strokeColor)}),Re=function(e){var t=e.onAnimationStateChanged,n=void 0===t?function(){}:t,o=e.animate,a=e.rect,c=e.cornerRadius,u=e.fill,l=e.strokeWidth,d=e.inactiveStrokeColor,f=e.feedbackStrokeColor,p=e.strokeColor,h=e.scanning,b=e.delay,g=e.children,m=Object(i.useRef)(),v=Object(i.useState)(),y=Object(s.a)(v,2),O=y[0],w=y[1],j=Object(i.useState)(o),E=Object(s.a)(j,2),C=E[0],k=E[1];Object(i.useEffect)(function(){var e=m.current;if(e&&e.getTotalLength)return e.addEventListener("webkitAnimationEnd",i,!1),e.addEventListener("animationend",i,!1),e.addEventListener("oanimationend",i,!1),e.addEventListener("webkitAnimationStart",t,!1),e.addEventListener("animationstart",t,!1),e.addEventListener("oanimationstart",t,!1),function(){e.removeEventListener("webkitAnimationEnd",i,!1),e.removeEventListener("animationend",i,!1),e.removeEventListener("oanimationend",i,!1),e.removeEventListener("webkitAnimationStart",t,!1),e.removeEventListener("animationstart",t,!1),e.removeEventListener("oanimationstart",t,!1)};function t(){w(!0),k(!0),n(!0)}function i(){w(!1),k(!1),n(!1)}},[m.current]),d||(O&&w(!1),C&&k(!1));var S=a.right-a.left+l,I=a.bottom-a.top+l,P=function(e){var t=e.rect,n=e.width,i=e.height,r=e.cornerRadius,o=void 0===r?0:r,a=e.strokeWidth,c=void 0===a?0:a,s=new Se.a(n,i);o<c&&(o=c);var u=t.top,l=t.left;return Ie(s,1.5*c-c,1.5*c-c,t.right-l-c+2*c,t.bottom-u-c+2*c,o),s.closePath(),s.stroke(),s.getSvg().childNodes[1].childNodes[0].getAttribute("d")}({rect:a,cornerRadius:c,strokeWidth:l,width:S+l,height:I+l});return r.a.createElement("div",{style:{position:"relative",width:S+l,height:I+l,left:a.left-l,top:a.top-l}},r.a.createElement(Pe,{width:S+l,height:I+l,version:"2.0"},C&&r.a.createElement(De,{d:P,fill:u,rect:a,strokeColor:d,strokeWidth:l,cornerRadius:c}),r.a.createElement(xe,{d:P,isAnimating:O,animate:o,strokeDasharray:2*S+2*I,strokeDashoffset:d?2*S+2*I:0,scanning:h,feedbackStrokeColor:f,ref:m,rect:a,strokeColor:p,strokeWidth:l,cornerRadius:c,delay:b})),g)},Ae=n(20),Fe=function(e){return e.strokeWidth||2},_e=function(e){return Ce(e.strokeColor||"AA0099FF")},Le=function(e){return Ce(e.fillColor||"00000000")},Ue=function(e){return"".concat(Fe(e),"px solid ").concat(_e(e))},We=n(267);function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=[];e=e.filter(function(){return!0});for(var i=0;i<e.length;i+=1){var r=i+1>e.length-1?(i+1)%e.length:i+1,o=i+2>e.length-1?(i+2)%e.length:i+2,a=e[i],c=e[r],s=e[o],u=Math.sqrt(Math.pow(a.x-c.x,2)+Math.pow(a.y-c.y,2)),l=(u-t)/u,d=[((1-l)*a.x+l*c.x).toFixed(1),((1-l)*a.y+l*c.y).toFixed(1)],f=t/Math.sqrt(Math.pow(c.x-s.x,2)+Math.pow(c.y-s.y,2)),p=[((1-f)*c.x+f*s.x).toFixed(1),((1-f)*c.y+f*s.y).toFixed(1)];i===e.length-1&&n.unshift("M".concat(p.join(","))),n.push("L".concat(d.join(","))),n.push("Q".concat(c.x,",").concat(c.y,",").concat(p.join(",")))}return n.push("Z"),n.join(" ")}var Me=function(e){return{width:"100%",height:"100%",stroke:_e(e),strokeWidth:Fe(e),fill:Le(e)}},Te=function(e){var t=e.children,n=Object(Oe.a)(e,["children"]);return r.a.createElement("svg",n,t)},ze=function(e){var t=e.pathComponent,n=e.key,i=e.useStyles,o=void 0===i||i,a=Object(Oe.a)(e,["pathComponent","key","useStyles"]);return r.a.createElement(Te,{style:o&&Me(a),key:n},t)},Ze=Object(l.b)(Object(l.h)(function(e){var t=e.points,n=Object(Oe.a)(e,["points"]),i=parseInt(function(e){var t=e.cornerRadius;return"".concat(t||0,"px")}(n),10);return{pathComponent:r.a.createElement("path",{d:Ne(t.map(function(e){var t=Object(s.a)(e,2);return{x:t[0],y:t[1]}}),i)})}}),Object(l.a)(function(e){return e.morph},Object(l.e)(function(e){var t=e.pathComponent,n=Object(Oe.a)(e,["pathComponent"]);return r.a.createElement(We.MorphReplace,{duration:100,rotation:"none",style:Me(n)},r.a.createElement(ze,Object.assign({},n,{useStyles:!1,pathComponent:t,key:Date.now()})))})))(ze);function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var Je=c.b.div.withConfig({displayName:"ScanFeedback__Rect",componentId:"s3v2e3-0"})(["position:relative;",";"],function(e){return"\n    transition: top ".concat(e.transitionDuration,",\n      left ").concat(e.transitionDuration,", width ").concat(e.transitionDuration,",\n      height ").concat(e.transitionDuration,";\n      height\n    border: ").concat(Fe(e),"px solid transparent;\n\n    width: ").concat(e.initialStyle.width,"px;\n    height: ").concat(e.initialStyle.height,"px;\n    top: ").concat(e.initialStyle.top,"px;\n    left: ").concat(e.initialStyle.left,"px;\n    border-radius: ").concat(e.initialStyle.borderRadius,"px;\n\n    ").concat(e.show&&Object(c.a)(["border:",";background-color:",";"],Ue(e),Le(e)),";\n  ")}),Be=c.b.div.withConfig({displayName:"ScanFeedback__PolygonWrapper",componentId:"s3v2e3-1"})(["position:absolute;width:100%;height:100%;top:0;"]),Ge=c.b.div.withConfig({displayName:"ScanFeedback__Element",componentId:"s3v2e3-2"})(["",";"],function(e){return"\n      position: absolute;\n      width: ".concat(e.width+Fe(e),"px;\n      height:  ").concat(e.width+Fe(e),"px;\n      top: ").concat(e.y,"px;\n      left: ").concat(e.x,"px;\n      border: ").concat(Ue(e),";\n      background-clip: content-box;\n\n    ").concat("rect"===e.feedbackStyle&&"\n      \ttransition: top ".concat(e.transitionDuration,", left ").concat(e.transitionDuration,", width ").concat(e.transitionDuration,", height ").concat(e.transitionDuration,";\n      border: ").concat(Fe(e),"px solid transparent;\n    "),";\n  \n    ").concat("contour_rect"===e.feedbackStyle&&"\n      background-color: ".concat(Le(e),";\n      border-radius: ").concat(e.cornerRadius,"px;\n    "),";\n\n    ").concat("contour_underline"===e.feedbackStyle&&"\n      transform-origin: top;\n      border-top: none;\n      top: ".concat(e.y+e.height,"px !important;\n      height: 0px !important;\n      width: ").concat(e.width,"px !important;\n      background-color: ").concat(_e(e),";\n    "),";\n\n    ").concat("contour_point"===e.feedbackStyle&&"\n      border-radius: 50%;\n      top: ".concat(e.y+e.height,"px !important; \n      left: ").concat(e.x+e.width/2,"px !important;\n      height: 0px !important;\n      width: 0px !important;\n    "),";\n  ")}),He=Object(l.b)()(Object(i.forwardRef)(function(e,t){return r.a.createElement(Be,{ref:t},r.a.createElement(Ze,e))})),Qe=Object(l.b)(Object(l.c)({transitionDuration:"0.3s"}),Object(l.h)(function(e){var t=e.points,n=e.feedbackStyle;return t&&!n.includes("rect")?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},function(e){if(!e)return{};var t=e.reduce(function(e,t){var n=Object(s.a)(t,2),i=n[0],r=n[1];return{x1:e.x1&&e.x1<i?e.x1:i,y1:e.y1&&e.y1<r?e.y1:r,x2:e.x2&&e.x2>i?e.x2:i,y2:e.y2&&e.y2>r?e.y2:r}},{});return{x:t.x1,y:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}}(t),{renderAsPolygon:!1}):t?{renderAsPolygon:!0}:void 0}),Object(l.a)(function(e){return e.renderAsPolygon},Object(l.e)(He)))(Object(i.forwardRef)(function(e,t){return r.a.createElement(Ge,Object.assign({ref:t},e))}));function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ke,qe={transition:function(e){var t=e.duration;return{duration:(void 0===t?1e3:t)/e.elements.length,type:"keyframes",values:[0,1,1,0],times:[0,.01,.99,1]}},opacity:1},$e={transition:function(e){e.duration,e.elements;return{duration:300,type:"keyframes",values:[0,1,0],times:[0,.5,1]}},opacity:1},et={transition:function(e){e.duration,e.elements;return{duration:300,type:"keyframes",values:[0,1,0,0],times:[0,.25,.3,1]}},opacity:1},tt={transition:function(e){var t=e.duration,n=void 0===t?1e3:t,i=e.elements,r=e.strokeWidth;return{duration:n/i.length,type:"keyframes",values:[1,(Fe({strokeWidth:r})+3)/Fe({strokeWidth:r}),1],times:[0,.5,1]}},scaleY:1},nt={transition:function(e){var t=e.duration,n=void 0===t?1e3:t,i=e.elements,r=e.strokeWidth;return{duration:n/i.length,type:"keyframes",values:[1,(Fe({strokeWidth:r})+3)/Fe({strokeWidth:r}),1],times:[0,.5,1]}},scale:1},it={TRAVERSE_MULTI:{parent:{active:{staggerChildren:function(e){var t=e.children,n=e.duration;return(void 0===n?1e3:n)/(2*t.length)}},reverse:{},inactive:{}},child:{active:Ye({},{transition:function(e){var t=e.duration;return{duration:(void 0===t?1e3:t)/e.elements.length,type:"keyframes",values:[0,1,0],times:[0,.5,1]}},opacity:1}),reverse:{opacity:0},inactive:{opacity:0}}},TRAVERSE_SINGLE:{parent:{active:{staggerChildren:100},reverse:{},inactive:{}},child:{active:Ye({},qe),reverse:{opacity:0},inactive:{opacity:0}}},KITT:{parent:{active:{staggerChildren:50},reverse:{staggerChildren:50,staggerDirection:-1},inactive:{}},child:{active:Ye({},qe),reverse:Ye({},qe),inactive:{opacity:0}}},BLINK:{parent:{active:{},reverse:{},inactive:{}},child:{active:Ye({},$e),reverse:Ye({},$e),inactive:{opacity:0}}},RESIZE:{underline:{parent:{active:{staggerChildren:function(e){var t=e.children,n=e.duration;return(void 0===n?1e3:n)/(2*t.length)}},reverse:{},inactive:{}},child:{active:Ye({},tt),reverse:{opacity:1},inactive:{opacity:1}}},point:{parent:{active:{staggerChildren:function(e){var t=e.children,n=e.duration;return(void 0===n?1e3:n)/(2*t.length)}},reverse:{},inactive:{}},child:{active:Ye({},nt),reverse:{opacity:1},inactive:{opacity:1}}}},PULSE:{parent:{active:{delayChildren:function(e){return e.firstRun?0:600}},reverse:{delayChildren:600},inactive:{}},child:{active:Ye({},et),reverse:Ye({},et),inactive:{opacity:0}}}},rt=Object(Ae.a)(Qe)(Ye({},it.RESIZE.point.child)),ot=Ae.a.div(Ye({},it.RESIZE.point.parent)),at=Object(Ae.a)(Qe)(Ye({},it.RESIZE.underline.child)),ct=Ae.a.div(Ye({},it.RESIZE.underline.parent)),st=Object(Ae.a)(Qe)(Ye({},it.TRAVERSE_MULTI.child)),ut=Ae.a.div(Ye({},it.TRAVERSE_MULTI.parent)),lt=Object(Ae.a)(Qe)(Ye({},it.TRAVERSE_SINGLE.child)),dt=Ae.a.div(Ye({},it.TRAVERSE_SINGLE.parent)),ft=Object(Ae.a)(Qe)(Ye({},it.PULSE.child)),pt=Ae.a.div(Ye({},it.PULSE.parent)),ht=Object(Ae.a)(Qe)(Ye({},it.BLINK.child)),bt=Ae.a.div(Ye({},it.BLINK.parent)),gt=Object(Ae.a)(Qe)(Ye({},it.KITT.child)),mt={none:[function(e){var t=e.children;return r.a.createElement("div",null,t)},Qe],kitt:[Ae.a.div(Ye({},it.KITT.parent)),gt],blink:[bt,ht],pulse:[pt,ft],traverse_multi:[ut,st],traverse_single:[dt,lt],resize_point:[ot,rt],resize_underline:[ct,at],resize:[]};function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ot=c.b.div.withConfig({displayName:"ScanFeedbackManager__Wrapper",componentId:"sc-148ox8r-0"})(["width:100%;height:100%;"]),wt=function(e){if(!e.length)return{};var t=e[0],n=t.y,i=t.x;return{width:t.width,height:t.height,top:n,left:i}},jt=function(e){return e.sort(function(e,t){return e.x-t.x})},Et=Object(l.b)(Object(l.c)({config:{feedbackStyle:"",animation:"",elements:[]}}),Object(l.h)(function(e){var t=e.config;return{config:yt({},t,{elements:t.elements||[],feedbackStyle:t.feedbackStyle&&t.feedbackStyle.toLowerCase(),animation:t.animation&&t.animation.toLowerCase()}),renderRect:"rect"===t.feedbackStyle.toLowerCase()&&t.elements.length&&!t.elements[0].points}}),Object(l.i)("feedbackElements","setFeedbackElements",[]),Object(l.i)("nextFeedbackElements","setNextFeedbackElements",[]),Object(l.i)("pose","setPose",null),Object(l.i)("firstRun","setFirstRun",!0),Object(l.g)({handlePoseComplete:function(e){var t=e.config,n=e.setPose,i=e.setFirstRun,r=e.setFeedbackElements;return function(e){Ke&&(Ke=!1,r(jt(t.elements))),n("reverse"!==e?"reverse":"active"),i(!1)}}}),Object(l.d)({componentDidMount:function(){var e=this.props,t=e.config,n=e.setPose;(t.animation||"none"!==t.animation)&&(this.props.setFeedbackElements(jt(t.elements)),n("active"))},componentWillReceiveProps:function(e){if(this.props.config.lastFeedbackUpdate!==e.config.lastFeedbackUpdate)if(e.pose||this.props.setPose("active"),e.renderRect||!e.config.animation||"none"===e.config.animation||["rect","contour_rect"].includes(e.config.feedbackStyle)||e.config.elements.length>=this.props.config.elements.length)this.props.setFeedbackElements(jt(e.config.elements));else{Ke=!0;var t=this.props.config.elements.slice(e.config.elements.length-this.props.config.elements.length).map(function(e){return yt({},e,{hidden:!0})});this.props.setFeedbackElements(jt([].concat(Object(P.a)(e.config.elements),Object(P.a)(t))))}}}))(function(e){var t=e.config,n=e.pose,i=e.handlePoseComplete,o=e.firstRun,a=e.initialRectStyle,c=e.cutoutId,u=e.feedbackElements,l=e.hide,d=e.renderRect,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.feedbackStyle,n=void 0===t?"rect":t,i=e.animation,r=void 0===i?"none":i;return mt[r]?["rect","contour_rect"].includes(n)?mt.none:"contour_point"===n&&"resize"===r?mt.resize_point:"contour_underline"===n&&"resize"===r?mt.resize_underline:mt[r]:(console.warn("animation ".concat(r," not found!")),mt.none)}(t),p=Object(s.a)(f,2),h=p[0],b=p[1];return r.a.createElement(Ot,{style:{display:l?"none":"block"}},d?r.a.createElement(Je,{show:u.length,style:wt(u),initialStyle:a}):r.a.createElement(h,{firstRun:o,onPoseComplete:i,duration:t.animationDuration,pose:n},u.map(function(e,n){return r.a.createElement(b,Object.assign({key:"".concat(c,"_").concat(n)},t,e,{style:{top:e.y,left:e.x,width:e.width,height:e.height,visibility:e.hidden?"hidden":"visible"},morph:1===u.length}))})))});function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var kt=function(){var e;return function(t,n){clearTimeout(e),e=setTimeout(n,t)}}(),St=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.scanFeedbackConfig,{strokeColor:e.inactiveStrokeColor,fillColor:"00000000"})},It=function(e,t,n){return{width:e.right-e.left,height:e.bottom-e.top,top:-t,left:-t,borderRadius:n}},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={fade:500,zoom:500};return t[e.toLowerCase()]||0};function Dt(e,t){if(e){var n=e-Pt(t)/1e3;return n>=0?n:0}}var xt,Rt=Object(l.b)(Object(l.i)("show","setShow"),Object(l.i)("scanning","setScanning"),Object(l.i)("isAnimating","setIsAnimating"),Object(l.i)("isDelayAnimating","setIsDelayAnimating"),Object(l.c)({rect:{left:0,top:0,right:100,bottom:100},strokeWidth:2,strokeColor:"FFFFFF",cornerRadius:8,onEnter:function(){},onEntered:function(){},onExit:function(){},onExited:function(){}}),Object(l.g)({handleEnter:function(e){var t=e.setIsAnimating,n=e.onEnter;return function(){t(!0),n()}},handleEntered:function(e){var t=e.setIsAnimating,n=e.onEntered;return function(){t(!1),n()}},handleExit:function(e){e.setIsAnimating;var t=e.onExit;return function(){t()}},handleExited:function(e){var t=e.setIsAnimating,n=e.onExited;return function(){t(!1),n()}},resetScanTimeout:function(e){var t=e.setScanning,n=e.scanFeedback;return function(){t(!0),kt(n.timeout||1e3,function(){return t(!1)})}}}),Object(l.h)(function(e){var t=e.scanFeedback,n=e.delay,i=e.classNames,r=e.rect,o=e.strokeWidth,a=e.cornerRadius,c=e.isAnimating,s=e.inactiveStrokeColor;return{enterAnimationTimeout:Pt(i),doAnimateDelay:!!s&&!c,renderFeedback:!c&&t.elements&&!!t.elements.length,delay:Dt(n,i),initialRectStyle:It(r,o,a)}}),Object(l.h)(function(e){var t=e.scanFeedback,n=e.inactiveStrokeColor;return{scanFeedbackConfig:e.isDelayAnimating?St({scanFeedbackConfig:t,inactiveStrokeColor:n}):t}}),Object(l.d)({componentDidMount:function(){this.props.setShow(!0)},componentWillReceiveProps:function(e){e.scanFeedback.lastFeedbackUpdate!==this.props.scanFeedback.lastFeedbackUpdate&&this.props.resetScanTimeout()}}))(function(e){e.show;var t=e.setIsDelayAnimating,n=e.renderFeedback,i=e.scanFeedbackConfig,o=e.handleEntered,a=e.handleEnter,c=e.handleExit,s=e.handleExited,u=e.initialRectStyle,l=e.doAnimateDelay,d=e.enterAnimationTimeout,f=Object(Oe.a)(e,["show","setIsDelayAnimating","renderFeedback","scanFeedbackConfig","handleEntered","handleEnter","handleExit","handleExited","initialRectStyle","doAnimateDelay","enterAnimationTimeout"]);return r.a.createElement(je.a,Object.assign({timeout:d},f,{onEntered:o,onEnter:a,onExit:c,onExited:s}),r.a.createElement(Re,{onAnimationStateChanged:t,animate:l,rect:f.rect,inactiveStrokeColor:f.inactiveStrokeColor,cornerRadius:f.cornerRadius,delay:f.delay,strokeWidth:f.strokeWidth,feedbackStrokeColor:f.feedbackStrokeColor,strokeColor:f.strokeColor,scanning:f.scanning},n&&r.a.createElement(Et,{initialRectStyle:u,hide:!f.scanning,cutoutId:f.id,config:i})))}),At=function(e,t){return Object.keys(t).filter(function(t){return!Object.keys(e).includes(t)})},Ft=c.b.canvas.withConfig({displayName:"Mask__Canvas",componentId:"lpvzzy-0"})(["position:absolute;width:100%;height:100%;"]),_t=Object(l.b)(O,Object(l.c)({outerColor:"FFFFFF",outerAlpha:0,onInit:function(){}}),Object(l.g)({initializeMaskService:function(e){var t=e.outerColor,n=e.outerAlpha,i=e.element,r=e.refs.canvas;return function(){r.width=i.offsetWidth,r.height=i.offsetHeight,xt=function(e){var t=e.canvasEl,n=e.outerColor,i=void 0===n?"000000":n,r=e.outerAlpha,o=void 0===r?0:r,a=e.rerenderOnAdd,c=void 0===a||a,s=e.rerenderOnRemove,u=void 0===s||s,l={},d=Ee(i,o),f=t.getContext("2d");function p(e){var t=e.rect,n=e.cornerRadius,i=void 0===n?0:n,r=e.strokeWidth,o=void 0===r?0:r;i<o&&(i=o);var a=t.top,c=t.left,s=t.right,u=t.bottom;Ie(f,c-o,a-o,s-c+2*o,u-a+2*o,1.5*i),f.fillStyle="black",f.fill()}function h(e){f.fillStyle=e,f.fillRect(0,0,t.width,t.height)}function b(){var e=Object.values(l);f.clearRect(0,0,t.width,t.height),f.globalCompositeOperation="source-over",h(d),f.globalCompositeOperation="destination-out",e.forEach(p)}return h(d),function e(){return requestAnimationFrame(e)}(),{addCutout:function(e){l[e.id]=e,c&&b()},modifyCutout:function(e){l[e.id]=e,b()},removeCutout:function(e){delete l[e],u&&b()},render:b,setConfig:function(e,t){d=Ee(e,t),b()}}}({canvasEl:r,outerColor:t,outerAlpha:n,rerenderOnAdd:!1})}},updateCanvasDimensions:function(e){var t=e.element,n=e.refs.canvas;return function(){n.width=t.offsetWidth,n.height=t.offsetHeight,xt&&xt.render()}}}),Object(l.d)({componentDidMount:function(){this.props.initializeMaskService(),window.addEventListener("resize",this.props.updateCanvasDimensions),this.props.onInit(xt)},componentWillUnmount:function(){window.removeEventListener("resize",this.props.updateCanvasDimensions)},componentWillReceiveProps:function(e){var t=this;return e.outerColor===this.props.outerColor&&e.outerAlpha===this.props.outerAlpha||xt&&xt.setConfig(e.outerColor,e.outerAlpha),At(this.props.cutouts,e.cutouts).length?(xt||e.initializeMaskService(),void Object.values(e.cutouts).filter(function(e){return!t.props.cutouts[e.id]}).forEach(xt.addCutout)):At(e.cutouts,this.props.cutouts).length?(xt||e.initializeMaskService(),void Object.values(this.props.cutouts).filter(function(t){return!e.cutouts[t.id]}).map(function(e){return e.id}).forEach(xt.removeCutout)):void Object.values(e.cutouts).filter(function(e){return t.props.cutouts[e.id]&&e.lastUpdate!==t.props.cutouts[e.id].lastUpdate}).forEach(xt.modifyCutout)}}))(function(e){var t=e.refs;return r.a.createElement(Ft,{ref:function(e){return t.set("canvas",e)}})});function Lt(e){if(!e)return{};var t=e.reduce(function(e,t){var n=Object(s.a)(t,2),i=n[0],r=n[1];return{x1:e.x1&&e.x1<i?e.x1:i,y1:e.y1&&e.y1<r?e.y1:r,x2:e.x2&&e.x2>i?e.x2:i,y2:e.y2&&e.y2>r?e.y2:r}},{});return{x:t.x1,y:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}}function Ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(!t.length||e.length>1||!e[0].points)return e;if(1===e.length&&1===t.length){var i=Lt(t[0].points),r=Lt(e[0].points),o=i.x,a=i.y,c=i.width,s=i.height,u=r.x,l=r.y,d=r.width,f=r.height;if(Math.abs(o-u)>=n||Math.abs(a-l)>=n||Math.abs(c-d)>=n||Math.abs(s-f)>=n)return e}return t}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Mt={top_half:2.7,center:2,bottom_half:1.3};function Tt(e,t){return t?e/100*(t=parseInt(t.replace("%",""),10)):e}function zt(e,t){var n=e.height,i=e.width,r=e.maxWidthPercent,o=e.maxHeightPercent,a=e.ratioFromSize,c=e.alignment,s=Tt(t.offsetWidth,r),u=Tt(t.offsetHeight,o);(i=!i||i>s?s:i,a)&&(n=i/(a.width/a.height));var l=function(e,t,n){if("top"===t)return 0;if("bottom"===t)return e.offsetHeight-n;var i=Mt[t];if(!i)throw new Error("alignment ".concat(t," not found! try top, top_half, center, bottom_half or bottom"));return e.offsetHeight/i-n/2}(t,c||"top_half",n=!n||n>u?u:n),d={width:i,height:n,x:t.offsetWidth/2-i/2,y:l};return function(e){try{window.external.notify(JSON.stringify(e))}catch(t){}}({rect:d}),{bottom:d.y+d.height,top:d.y,left:d.x,right:d.x+d.width}}var Zt=function(e,t){return e.map(function(e,n){var i=e.scanFeedback,r=void 0===i?{}:i,o=e.cutoutConfig,a=void 0===o?{}:o,c=e.id,s=void 0===c?n+1:c,u=zt(a,t);return Nt({id:s,visible:!0},a,{scanFeedback:Nt({},r,{feedbackStyle:r.style}),rect:u})})};n(613);function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Bt,Gt,Ht,Qt,Xt,Yt,Kt,qt={cutouts:de.a.object.isRequired},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(function(e){return Object.keys(e).length})},en=function(e){return e.visible},tn=function(e){return!Object.keys(e).length},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return Object(l.b)(Object(l.i)("config","setConfig"),Object(l.i)("maskConfig","setMaskConfig"),Object(l.c)({onCutoutListUpdate:function(){},onReady:function(){}}),Object(l.j)(function(){return{cutouts:{}}},{setCutouts:function(e,t){Object(ue.a)(e);var n=t.onCutoutListUpdate;return function(e){return n(e),{cutouts:e}}}}),Object(l.g)({handleAnimatonEnterStart:function(e){e.cutouts;return function(e){return function(){e.animation&&"none"!==e.animation.toLowerCase()||Kt.render()}}},handleAnimatonEnterEnd:function(){return function(e){return function(){Kt.render()}}},handleAnimatonExitEnd:function(){return function(e){return function(){}}},handleMaskInit:function(){return function(e){Kt=e}},setupCutouts:function(e){var t=e.setCutouts,n=e.cutouts;return function(e){var i=e.map(function(e){return Jt({},n[e.id]||{},{},e,{scanFeedback:Jt({},n[e.id]&&n[e.id].scanFeedback||{},{},e.scanFeedback||{},{elements:[]}),lastUpdate:Date.now(),visible:"undefined"!==typeof e.visible?e.visible:!!n[e.id]&&n[e.id].visible})}),r=ve(i,"id");t(Jt({},n,{},r))}},updateFeedback:function(e){var t=e.setCutouts,n=e.cutouts;return function(e){var i=Object.entries(e).filter(function(e){var t=Object(s.a)(e,2),i=t[0],r=t[1];return n[i]&&r.length}).map(function(e){var t=Object(s.a)(e,2),i=t[0],r=t[1];return Jt({},n[i],{scanFeedback:Jt({},n[i].scanFeedback,{lastFeedbackUpdate:Date.now(),elements:Ut($t(r),$t(n[i].scanFeedback.elements),5)})})}),r=ve(i,"id");t(Jt({},n,{},r))}},removeCutouts:function(e){var t=e.setCutouts,n=e.cutouts;return function(e){var i=ye(n,e);t(i)}}}),Object(l.g)({setup:function(e){var t=e.element,n=e.setMaskConfig,i=e.setupCutouts,r=e.setConfig,o=e.config;return function(e){if(e&&(r(e),o=e),o){var a=Zt(o.cutouts,t);if(!tn(a)){var c={outerColor:o.outerColor||"000000",outerAlpha:o.outerAlpha||.5};n(c||{outerColor:"000000",outerAlpha:.5}),i(a)}}}},resetDelay:function(e){var t=e.setupCutouts,n=e.cutouts;return function(e){var i=e.filter(function(e){return n[e]}),r=i.map(function(e){return{id:e,inactiveStrokeColor:void 0}});t(r);var o=i.map(function(e){return{id:e,inactiveStrokeColor:n[e].inactiveStrokeColor}});setTimeout(function(){return t(o)},0)}}}),Object(l.g)({handleScreenChange:function(e){var t=e.setup;return function(){t()}}}),e,Object(l.h)(function(e){var t=e.cutouts,n=Object.values(t).filter(en);return{cutouts:ve(n,"id")}}),Object(l.d)({componentDidMount:function(){Yt=w.a.subscribe("setConfig",this.props.setup),Qt=w.a.subscribe("setupMask",this.props.setMaskConfig),Bt=w.a.subscribe("setupCutouts",this.props.setupCutouts),Ht=w.a.subscribe("updateFeedback",pe()(this.props.updateFeedback,25)),Gt=w.a.subscribe("removeCutouts",this.props.removeCutouts),Xt=w.a.subscribe("resetDelay",this.props.resetDelay),window.addEventListener("orientationchange",this.props.handleScreenChange),window.addEventListener("resize",this.props.handleScreenChange),this.props.onReady()},componentWillUnmount:function(){Qt.unsubscribe(),Bt.unsubscribe(),Gt.unsubscribe(),Ht.unsubscribe(),Xt.unsubscribe(),Yt.unsubscribe(),window.removeEventListener("orientationchange",this.props.handleScreenChange),window.removeEventListener("resize",this.props.handleScreenChange)}}),Object(l.f)(qt))}()(function(e){var t=e.cutouts,n=e.maskConfig,i=e.handleMaskInit,o=e.handleAnimatonEnterEnd,a=e.handleAnimatonExitEnd,c=e.handleAnimatonEnterStart,s=e.style,u=e.element;return r.a.createElement("div",{style:s},r.a.createElement(_t,Object.assign({},n,{element:u,cutouts:t,onInit:i})),r.a.createElement(be.a,null,Object.values(t).map(function(e){return r.a.createElement(Rt,Object.assign({onEntered:o(e),onEnter:c(e),onExited:a(e),classNames:e.animation?e.animation.toLowerCase():"",key:"Cutout_".concat(e.id)},e))})))}),rn=c.b.div.withConfig({displayName:"CutoutUI__Wrapper",componentId:"dwp0ge-0"})(["position:relative;height:100%;"]),on=c.b.div.withConfig({displayName:"CutoutUI__Layer",componentId:"dwp0ge-1"})(["width:100%;height:100%;position:absolute;"]),an=Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_DEBUG_MODE,cn=Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_USE_ANYLINE_JS,sn=Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_USE_EDITOR,un=function(e){var t=e.onReady,n=e.element;return r.a.createElement(rn,null,cn&&r.a.createElement(on,null,r.a.createElement(H,{debugMode:an,width:n.offsetWidth,height:n.offsetHeight})),r.a.createElement(on,null,r.a.createElement(nn,{element:n,onReady:t,onCutoutListUpdate:G})),sn&&r.a.createElement(se,null))},ln=function(e){var t=e.element;return r.a.createElement(un,{element:t})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(615),t.a=function(e){var t,n;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}),t=ln,n={element:e},a.a.render(r.a.createElement(t,n),e)}},17:function(e,t,n){"use strict";var i,r=n(11),o=n(618);t.a=function(){if(i)return i;var e={},t=function(t,n){return e[t]?e[t].next(n):(console.warn("".concat(t," does not have any registered listeners. Publish cancelled.")),!1)};return i={getSinks:function(){return e},publish:t,subscribe:function(t,n){return n?(e[t]||Object.assign(e,Object(r.a)({},t,new o.a)),e[t].subscribe(n)):(console.warn("No callback provided for subscription. Subscription cancelled."),!1)}},window.publish=t,i}()},260:function(e,t,n){e.exports=n.p+"static/media/anyIcon.ebceaedb.svg"},275:function(e,t,n){e.exports=n(276)},276:function(e,t,n){"use strict";n.r(t);n(277);var i=n(124);Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_USE_ANYLINE_JS?n(617):Object(i.a)(document.getElementById("root"))},613:function(e,t,n){},615:function(e,t,n){},617:function(e,t,n){"use strict";n.r(t);var i,r,o=n(11),a=n(270),c=n.n(a),s=n(17),u=n(120),l=n(124),d={eCard:{config:{module:"ocr",customCmdFile:"e_card_scanner.ale"},viewConfig:{cutouts:[{cutoutConfig:{alignment:"center",ratioFromSize:{width:125,height:80},width:1125,maxWidthPercent:"90%"}}]}},id:{config:{module:"id"},viewConfig:{cutouts:[{cutoutConfig:{ratioFromSize:{width:300,height:250},width:300,maxWidthPercent:"90%"}}]}},meter:{config:{module:"meter"},viewConfig:{cutouts:[{cutoutConfig:{ratioFromSize:{width:250,height:60},width:250,maxWidthPercent:"80%"}}]}},ocr:{config:{module:"ocr",charWhitelist:"ABCDEFGHJIKLMNOPQRSTUVWXYZ0123456789",scanMode:"AUTO",minConfidence:80},viewConfig:{cutouts:[{cutoutConfig:{ratioFromSize:{width:250,height:60},width:250,maxWidthPercent:"80%"}}]}}};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(o.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h={postMessage:function(){},terminate:function(){}},b=u.a,g=n(123),m=document.getElementById("root"),v=function(e){var t=e.preset,n=e.config,o=void 0===n?{}:n,a=e.viewConfig,u=void 0===a?{}:a,f=e.license,g=e.element,m=e.anylinePath;h.terminate();var v={};if(navigator.userAgent.match("CriOS")&&(v.onError?v.onError(b.WEBCAM_ERROR,""):window.publish("setCameraDisabled",!0)),t){var y=d[t];if(!y)throw new Error("preset ".concat(t," not found! available presets: ").concat(Object.keys(d)));o=p({},y.config),u=p({},u,{cutouts:[c()(u.cutouts[0],y.viewConfig.cutouts[0])]})}Object(l.a)(g),window.publish("setAnylineLoading",!0),window.publish("setConfig",u),Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_USE_ANYLINE_CORE?h=new Worker("".concat(m,"/anylinejs.js")):window.publish("setAnylineLoading",!1);s.a.subscribe("error",function(e){v.onError&&v.onError(e)});function O(){var e=window.cutoutImageData[1];clearInterval(r);var t={type:"image",value:e=e.replace("data:image/jpeg;base64,","")};h.postMessage(JSON.stringify(t))}return v.stopScanning=function(){h.postMessage(JSON.stringify({type:"stop"}))},v.startScanning=function(){var e={type:"launch",json:o,license:f};"OCR"===o.module.toUpperCase()&&(o.languages=["USNr.any"]),h.postMessage(JSON.stringify(e)),i=window.setTimeout(function(){v.onError?v.onError(b.TIMEOUT_ERROR,""):window.publish("setAnylineDeviceSlow",!0)},14e3)},h.onmessage=function(e){var t=e.data;if("imagereq"===t.type)try{O()}catch(n){r=setInterval(function(){try{O()}catch(n){}},1e3)}"contours"===t.type&&window.publish("updateFeedback",{1:t.value}),"result"===t.type&&v.onResult&&v.onResult(t.value),"loaded"===t.type&&(window.publish("setAnylineLoading",!1),clearTimeout(i),v.onLoad&&v.onLoad())},v}({preset:"id",viewConfig:g.a,license:"eyJzY29wZSI6WyJBTEwiXSwicGxhdGZvcm0iOlsiaU9TIiwiQW5kcm9pZCIsIldpbmRvd3MiXSwidmFsaWQiOiIyMDE4LTEwLTE0IiwibWFqb3JWZXJzaW9uIjoiMyIsImlzQ29tbWVyY2lhbCI6ZmFsc2UsInRvbGVyYW5jZURheXMiOjMwLCJzaG93UG9wVXBBZnRlckV4cGlyeSI6dHJ1ZSwiaW9zSWRlbnRpZmllciI6WyJjb2duZXguYXBwIl0sImFuZHJvaWRJZGVudGlmaWVyIjpbImNvZ25leC5hcHAiXSwid2luZG93c0lkZW50aWZpZXIiOlsiY29nbmV4LmFwcCJdfQptQVZ5Tm5UbVlJUlVlVUZNamhjbGRCMmc4Q1VON0lnUkVjQmU0OTRlUml5bjdMM2M2WS9HTTE1ak1ZdGJ4dElLUUdLUU9KQ3pGZjZGNm1nMHp2eVJ3ejZOdjhLcjgvcHNTL1c2N3JHbVR0L3hQaE5LL1Z2Z2czSWZvMWNhbXUzWExpWWhJS3NubUcxZzNUUlZ5VURieHBhL2pmZ3NTWHdCMk9IMkJQMzVlVjR6Q0tFbGFabVhwT0tlTjcxRFBNMGZzMVQxQlZ4TEtGWTBjZjhFTTRuTmdyRTZGU1pLVUJKbEN3VjdaVkc4aEtKTGZhbUtDWWNlMGVScC9VUTlGa2tvM2lOUU4rQ25ZenZVemhnUXU4ZXNsV3JadjFkZ2dabXJDUEt4c1pDV015SThLNkwrZmM5N3A1aFdKbCtVOU5MT0lkY1o3WTZ3NmFQZzdPUVNFa0lYYXc9PQ==",element:m,anylinePath:"anylinejs"});v.onResult=function(e){console.log("Result: ",e);var t="Congratulations you scanned: \n"+JSON.stringify(e.result);alert(t)},v.onReport=function(e){console.log("Report: ",e)},v.log=function(e){console.log("Logging: ",e)},v.onError=function(e){var t=e.code,n=e.message;t===b.WEBCAM_ERROR&&console.error("webcam error: ",n)},v.onLoad=function(){console.log("ANYLINE LOADED on main thread")},v.startScanning()}},[[275,1,2]]]);